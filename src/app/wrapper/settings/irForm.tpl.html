<form class="form-horizontal" role="form" name="form" novalidate>

	<div class="form-group" ng-class="{'has-error': irForm.$invalid}" ng-form="irForm">
		<label class="col-lg-3 control-label" for="ir">{{metaData.cols['ir'].label}}</label>
		<div class="col-lg-6">
			<input class="form-control" ng-model="formData['ir']" type="number" ng-required="!metaData.cols['ir']['allowNull']" />
		</div>
	</div>
	
	<div class="form-group" ng-class="{'has-error': volumeForm.$invalid}" ng-form="volumeForm">
		<label class="col-lg-3 control-label" for="volume">{{metaData.cols['volume'].label}}</label>
		<div class="col-lg-6">
			<input class="form-control" ng-model="formData['volume']" type="number" ng-required="!metaData.cols['volume']['allowNull']" />
		</div>
	</div>
	
	<div class="form-group" ng-class="{'has-error': zoneForm.$invalid}" ng-form="zoneForm"> 
		<label class="col-lg-3 control-label" for="zone_id">{{metaData.cols['zone_id'].label}}</label>
		
		<div class="col-lg-6">
			<select class="form-control" data-placeholder="Pick a number" ng-model="formData['zone_id']" ng-required="!metaData.cols['zone_id']['allowNull']">
				<option ng-repeat="zone in zones" value="{{zone.id}}" ng-selected="formData['zone_id'] == key">{{zone.name}}</option>
			</select>
		</div>
	</div>
	
	<div class="form-group" ng-class="{'has-error': projectForm.$invalid}" ng-form="projectForm"> 
		<label class="col-lg-3 control-label" for="project_id">{{metaData.cols['project_id'].label}}</label>
		
		<div class="col-lg-6">
			<select class="form-control" ng-model="formData['project_id']" ng-required="!metaData.cols['project_id']['allowNull']">
				<option ng-repeat="project in projects" value="{{project.id}}" ng-selected="formData['project_id'] == key">{{project.name}}</option>
			</select>
		</div>
	</div>
	
	<div class="form-group" ng-class="{'has-error': areaForm.$invalid}" ng-form="areaForm">
		<label class="col-lg-3 control-label" for="area">{{metaData.cols['area'].label}}</label>
		
		<div class="col-lg-6">
			<input type="text" class="form-control" ng-model="formData['area']" placeholder="" ng-required="!metaData.cols['area']['allowNull']"></input>
		</div>
	</div>
	
	<div class="col-lg-offset-2 col-lg-8">
		<table class="table table-striped">
			<thead>
				<tr>
					<th>Axis</th>
					<th>Level</th>
					<th>#</th>
				</tr>
			</thead>
			
			<tbody>
				<tr ng-repeat="obj in al">
					<td>{{obj.axis}}</td>
					<td>{{obj.level}}</td>
					<td><a href="" ng-click="deleteAl(obj, isCreate)">delete</a></td>
				</tr>
				
				<tr ng-form="alForm">
					<td><input name="axis" ng-model="$parent.axis" class="form-control" type="text" required /></td>
					<td><input name="level" ng-model="$parent.level" class="form-control" type="text" required /></td>
					<td><button class="btn btn-primary" ng-click="addAl($parent.axis, $parent.level, isCreate)" ng-disabled="alForm.axis.$error.required && alForm.level.$error.required">Add</button></td>
				</tr>
			</tbody>
		</table>
	</div>
	
	<div class="col-lg-offset-2 col-lg-8">
		<table class="table table-striped">
			<thead>
				<tr>
					<th>Pouring Type</th>
					<th>#</th>
				</tr>
			</thead>
			
			<tbody>
				<tr ng-repeat="pouringType in pt">
					<td>{{pouringType.name}}</td>
					<td><a ng-show="pt.length > 1" href="" ng-click="deletePt(pouringType, isCreate)">delete</a></td>
				</tr>
				
				<tr ng-form="ptForm">
					<td>
						<select name="pouringType" ng-model="pouringType" class="form-control" type="text" required>
							<option ng-repeat="pouringType in pouringTypes" value="{{pouringType.id}}">{{pouringType.name}}</option>
						</select>
					</td>
					<td><button class="btn btn-primary" ng-click="addPt(pouringType, isCreate)" ng-disabled="ptForm.pouringType.$error.required">Add</button></td>
				</tr>
			</tbody>
		</table>
	</div>
	
	<div class="form-group">
		<div class="col-lg-offset-3 col-lg-6">
			<button class="btn btn-primary" ng-click="submit(formData)" type="submit" ng-disabled="irForm.$invalid || volumeForm.$invalid || zoneForm.$invalid || areaForm.$invalid || (pt.length < 1)">
				<just_text ng-show="isCreate">Create</just_text>
				<just_text ng-hide="isCreate">Update</just_text>
			</button>
			
			<ng-switch on="isCreate">
				<button class="btn btn-warning" type="reset" ng-click="rest()" ng-switch-when="true">
					Reset
				</button>
				
				<button class="btn btn-danger" ng-click="deselectItem()" type="cancel" ng-switch-default>
					Cancel
				</button>
			</ng-switch>
		</div>
	</div>
	
	<hr />
</form>